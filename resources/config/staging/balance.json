{
    "zones":[
        {
            "name":"spot",
            "risky":true,
            "shards":2
        },
        {
            "name":"primary",
            "risky":false,
            "shards":1
        }
    ],
    "nodes":[
        {
            "name":"tertiary",
            "disk": 0,
            "memory": 0  // SHARD BALANCER WILL MOVE SHARDS OFF OF NODE
        }
    ],
	"allocate":[
		{
			"name": "saved_queries*",
			"zone": "spot",
			"shards": 5
        },
        {
            "name": "repo*",
            "zone": "spot",
            "shards": 3
		}
	],
    "connect": {
        //USED IN Fabric's `env` GLOBAL CONFIG OBJECT
        "user": "ec2-user",
        "key_filename": "~/.ssh/aws-pulse-logger.pem",
        "disable_known_hosts": true,
        "host_string": "",
        "port": 22,
        "password": "",
        "banner_timeout": 30
    },
    "finally":{
        "/_cluster/settings": [
            {"transient": {
                "cluster.routing.allocation.disk.threshold_enabled" : true,
                "cluster.routing.allocation.disk.watermark.low": "40%"
            }},
            {"persistent": {"cluster.routing.allocation.enable": "all"}}
        ]
    },
    "replication_priority":[
        "saved*",
        "branches*",
        "repo*",
        "test_failuers*",
        "coverage-summary*",
        "job*",
        "treeherder*",
        "unit*"
    ],
    "elasticsearch": {
        "host": "http://activedata.allizom.org",
        "port": 9200,
        "debug": true
    },
    "constants":{
        "pyLibrary.env.http.default_headers":{
            "referer":"https://wiki.mozilla.org/Auto-tools/Projects/ActiveData"
        }
    },
    "debug": {
        "trace": true,
        "cprofile": {
            "enabled": false,
            "filename": "./results/profile.tab"
        },
        "log": [
            {
                "log_type": "console"
            },
			{
				"class": "logging.handlers.RotatingFileHandler",
				"filename": "logs/balance.log",
				"maxBytes": 10000000,
				"backupCount": 10,
				"encoding": "utf8"
			},
			{
                "log_type": "ses",
                "max_interval": "5min",
                "from_address": "klahnakoski@mozilla.com",
                "to_address": "klahnakoski@mozilla.com",
                "subject": "[ALERT][Manager] Problem with esShardBalancer",
                "$ref": "file://~/private.json#aws_credentials"
            }
        ]
    }
}
